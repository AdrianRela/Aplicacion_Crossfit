var tablaSeleccionada="",accionSeleccionada="";function iniciarAppCrossfit(){CambiarContenedor(),quitarNavs()}function CambiarContenedor(){try{var e=document.querySelector(".contenedor-app");null!==e&&(e.classList.remove("contenedor-app"),e.classList.add("contenedor-app2"))}catch(e){console.error("Error al cambiar el contenedor:",e)}}function quitarNavs(){document.querySelector(".tabs").style.display="none"}function seleccionarTabla(e){tablaSeleccionada=e;document.querySelector(".columna1").style.display="block";document.querySelector(".columna2").style.display="none"}function accionCRUD(e){const t=document.getElementById("formulario-admin");for(;t.firstChild;)t.firstChild.remove();const a=document.querySelector(".form-admin-insertar");a&&a.remove(),accionSeleccionada=e;document.querySelector(".columna2").style.display="block","consultar"==accionSeleccionada&&consultaAPIIDs(tablaSeleccionada),"borrar"==accionSeleccionada&&consultaAPIIDs(tablaSeleccionada),"actualizar"==accionSeleccionada&&consultaAPIIDs(tablaSeleccionada),"insertar"==accionSeleccionada&&consultaAPIIDs(tablaSeleccionada)}function mostrarSelect(e){const t=document.createElement("select");t.id="select-admin",t.name="IdConsulta";const a=document.createElement("option");a.text="Seleccione Id",t.appendChild(a),e.forEach(e=>{const a=e[Object.keys(e)[0]];if(""!=a){const e=document.createElement("option");e.value=a,e.text=a,t.appendChild(e)}});const n=document.getElementById("formulario-admin");n.appendChild(t);var c=document.createElement("input");c.type="hidden",c.name="tabla",c.value=tablaSeleccionada;var o=document.createElement("input");o.type="hidden",o.name="accion",o.value=accionSeleccionada,n.append(c,o);const r=document.createElement("button");r.textContent="consultar"==accionSeleccionada?"Consultar":"borrar"==accionSeleccionada?"Borrar":"Seleccionar",r.type="Submit",r.className="boton",n.appendChild(r)}async function consultaAPIIDs(e){try{const t="/AppCrossfit/api/ids?tabla="+e,a=await fetch(t),n=await a.json();"insertar"==accionSeleccionada?mostrarFormInsertar(n):mostrarSelect(n)}catch(e){console.log(e)}}function mostrarFormInsertar(e){const t=Object.keys(e[0]),a=document.createElement("form");a.method="post",a.action="/AppCrossfit/admin-insertar",a.className="form-admin-insertar";var n=document.createElement("input");n.type="hidden",n.name="tabla",n.value=tablaSeleccionada,a.appendChild(n),t.forEach(e=>{const t=document.createElement("label");t.textContent=e;const n=document.createElement("input");n.type="text",n.name=e,a.appendChild(t),a.appendChild(n)});const c=document.createElement("button");c.type="submit",c.className="boton",c.textContent="Insertar",a.appendChild(c);document.querySelector(".derecha").appendChild(a)}function quitarAlerta(){const e=document.querySelector(".alerta");e&&setTimeout(()=>{e.remove()},3e3)}document.addEventListener("DOMContentLoaded",(function(){iniciarAppCrossfit()}));var verificarDivInterval=setInterval((function(){document.getElementById("alert")&&(clearInterval(verificarDivInterval),quitarAlerta())}),1e3);