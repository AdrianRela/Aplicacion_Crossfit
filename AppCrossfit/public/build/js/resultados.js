function iniciarAppCrossfit(){CambiarContenedor(),marcarTabsActual(),consultarAPIResultados()}function CambiarContenedor(){try{var e=document.querySelector(".contenedor-app");null!==e&&(e.classList.remove("contenedor-app"),e.classList.add("contenedor-app2"))}catch(e){console.error("Error al cambiar el contenedor:",e)}}function marcarTabsActual(){const e=window.location.href,t=document.querySelectorAll(".tabs a");for(let n=0;n<t.length;n++){let o=t[n];e===o.getAttribute("href")&&o.classList.add("actual")}}function quitarAlerta(){const e=document.querySelectorAll(".alerta");e&&setTimeout(()=>{e.forEach((function(e){e.remove()}))},3e3)}async function consultarAPIResultados(){try{const e="/AppCrossfit/api/resultados",t=await fetch(e);mostrarResultados(await t.json())}catch(e){console.log(e)}}function mostrarResultados(e){let t=null,n=null;e.forEach(e=>{const{id_resultado:o,nombre:a,resultado:r,fecha:l,RM:i,opciones:d,id_ejercicio:c}=e;let s=[a,r,l,i,d];const u=document.createElement("tr");let m;for(let e=0;e<s.length;e++){const r=document.createElement("td");if(""==s[e]){var p=document.createElement("button");p.id="opciones-btn";var f=document.createElement("i");f.classList.add("fas","fa-cog"),p.appendChild(f);var h=document.createElement("div");h.id="opciones-container",h.style.display="none";var y=document.createElement("a");y.href="#",y.id="borrar-registro",y.className=o,y.textContent="Borrar registro";var C=document.createElement("a");C.href="#",C.id=a,C.className=c,C.textContent="Insertar";var b=document.createElement("a");b.href="#",b.id="borrar-todo",b.className=c,b.textContent="Borrar Todo",h.appendChild(y),h.appendChild(C),h.appendChild(b),r.appendChild(p),r.appendChild(h),p.addEventListener("click",(function(){"none"===h.style.display?(null!==t&&null!==n&&(t.style.display="none",n.style.fontWeight="normal"),h.style.display="grid",m.style.fontWeight="bold",t=h,n=m):(h.style.display="none",m.style.fontWeight="normal",t=null,n=null)})),y.addEventListener("click",borrarunResgistro),C.addEventListener("click",insertarResultado),b.addEventListener("click",borrarTodoResultado)}else r.textContent=s[e],0===e&&(m=r);u.appendChild(r)}tabla=document.querySelector(".table"),tabla&&tabla.append(u)})}document.addEventListener("DOMContentLoaded",(function(){iniciarAppCrossfit()}));var verificarDivInterval=setInterval((function(){document.getElementById("alert")&&(clearInterval(verificarDivInterval),quitarAlerta())}),1e3);function borrarunResgistro(e){Swal.fire({title:"¿Desea borrar este registro?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No"}).then(t=>{if(t.isConfirmed){const t=e.target.classList.toString(),n=document.createElement("form");n.action="/AppCrossfit/dashboard-resultados",n.method="POST";const o=document.createElement("input");o.type="hidden",o.name="id_resultado",o.value=t,n.appendChild(o),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}})}function insertarResultado(e){const t=document.getElementById("form-insertar");if("none"!==window.getComputedStyle(t).getPropertyValue("display"))return void(t.style.display="none");t.style.display="block";const n=e.target,o=n.classList.toString();document.querySelector(".h2-resultado").textContent="Nuevo Resultado "+n.id;const a=document.querySelector(".formulario-resultado"),r=document.createElement("input");r.type="hidden",r.name="id_ejercicio",r.value=o,a.appendChild(r)}function borrarTodoResultado(e){Swal.fire({title:"¿Desea borrar todos los registro?",icon:"question",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No"}).then(t=>{if(t.isConfirmed){const t=e.target.classList.toString(),n=document.createElement("form");n.action="/AppCrossfit/dashboard-resultados",n.method="POST";const o=document.createElement("input");o.type="hidden",o.name="id_ejercicio",o.value=t,n.appendChild(o),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}})}